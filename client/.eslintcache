[{"/app/src/index.js":"1","/app/src/reportWebVitals.js":"2","/app/src/App.js":"3","/app/src/components/FlightInfo.js":"4","/app/src/components/FlightDetail.js":"5","/app/src/services/util/request.js":"6","/app/src/services/util/const.js":"7"},{"size":801,"mtime":1610975719968,"results":"8","hashOfConfig":"9"},{"size":362,"mtime":1610893056857,"results":"10","hashOfConfig":"9"},{"size":271,"mtime":1610988511562,"results":"11","hashOfConfig":"9"},{"size":8148,"mtime":1611045406119,"results":"12","hashOfConfig":"9"},{"size":3934,"mtime":1611045733821,"results":"13","hashOfConfig":"9"},{"size":2786,"mtime":1610989681435,"results":"14","hashOfConfig":"9"},{"size":135,"mtime":1610959587564,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"16ql40k",{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25","usedDeprecatedRules":"18"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28","usedDeprecatedRules":"18"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/app/src/index.js",[],["33","34"],"/app/src/reportWebVitals.js",[],"/app/src/App.js",[],"/app/src/components/FlightInfo.js",["35","36","37","38","39","40","41","42","43"],"import React, { useState, useEffect } from 'react';\nimport request from '../services/util/request';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { BrowserRouter as Router, Switch, Route, useParams } from 'react-router-dom';\nimport moment from 'moment';\nimport {\n  Container,\n  FormControl,\n  Select,\n  MenuItem,\n  InputLabel,\n  FormHelperText,\n  CircularProgress,\n  Divider,\n  Paper,\n  Grid\n} from '@material-ui/core';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport { XMLNS_1_0 } from 'xmlchars';\n\nfunction Alert(props) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    minWidth: 275,\n    marginTop: 30,\n    marginBottom: 10,\n    marginLeft: 10,\n    display: 'block'\n  },\n  bullet: {\n    display: 'inline-block',\n    margin: '0 2px',\n    transform: 'scale(0.8)'\n  },\n  title: {\n    fontSize: 14,\n    float: 'left'\n  },\n  pos: {\n    marginBottom: 12\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    marginBottom: 10,\n    minWidth: 120\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2)\n  },\n  alertRoot: {\n    width: '100%',\n    '& > * + *': {\n      marginTop: theme.spacing(2)\n    }\n  },\n  column: {\n    flexBasis: '15%',\n    display: 'inline-block',\n    marginLeft: '10px',\n    float: 'left'\n  },\n  column2: {\n    marginLeft: '10px',\n    marginRight: '10px'\n  },\n  block: {\n    backgroundColor: '#FFFFFF',\n    display: 'flex'\n  },\n  gridRoot: {\n    width: 'fit-content',\n    border: `1px solid ${theme.palette.divider}`,\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: theme.palette.background.paper,\n    color: theme.palette.text.secondary,\n    '& svg': {\n      margin: theme.spacing(1.5)\n    },\n    '& hr': {\n      margin: theme.spacing(1, 1)\n    }\n  }\n}));\n\nexport const FlightInfo = () => {\n  let { id } = useParams();\n  const classes = useStyles();\n  const bull = <span className={classes.bullet}>â€¢</span>;\n  const [data, setData] = useState(null);\n  const [open, setOpen] = useState(false);\n  const [status, setStatus] = useState('');\n  const [severity, setSeverity] = useState('success');\n  const objectEntries = ['LANDED', 'ON SCHEDULE', 'DELAYED'];\n\n  // Declare a new state variable, which we'll call \"count\"\n  const getDetails = request({\n    method: 'GET',\n    route: `/api/flight/${id}`\n  });\n\n  const pollDetails = async () => {\n    return await getDetails;\n  };\n\n  const handleChange = (event) => {\n    setStatus(event.target.value);\n  };\n\n  const handleClick = () => {\n    setOpen(true);\n  };\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  const saveStatus = async () => {\n    try {\n      data.flight.status = status;\n      const updateDetails = request({\n        method: 'POST',\n        route: `/api/flight/update`,\n        body: data\n      });\n      const result = await updateDetails;\n      if (result.data) {\n        setSeverity('success');\n        handleClick();\n      }\n    } catch (error) {\n      console.error(error, 'flightInfo/saveStatus');\n      setSeverity('error');\n      handleClick();\n    }\n  };\n\n  const renderData = ({ flight }) => {\n    return (\n      <div>\n        <Paper elevation={3} className={classes.block}>\n          <div style={{ display: 'block', margin: '40px' }}>\n            <div style={{ margin: '10px', display: 'block' }}>\n              <Grid container alignItems=\"center\" spacing={2}>\n                <Grid item>\n                  <Typography variant=\"h4\">{flight.sourcePortName}</Typography>\n                </Grid>\n                <Grid item>\n                  <Typography variant=\"h4\">{flight.sourcePortCode}</Typography>\n                </Grid>\n                <Grid item>\n                  <Typography color=\"textSecondary\" variant=\"h5\">\n                    {flight.flightCode}\n                  </Typography>\n                </Grid>\n                <Grid item>\n                  <FormControl className={classes.formControl}>\n                    <Select\n                      labelId=\"demo-simple-select-helper-label\"\n                      id=\"demo-simple-select-helper\"\n                      value={status}\n                      onChange={handleChange}\n                    >\n                      {objectEntries.map((elm) => {\n                        return <MenuItem value={elm}>{elm}</MenuItem>;\n                      })}\n                    </Select>\n                  </FormControl>\n                </Grid>\n                <Grid item>\n                  <Button\n                    size=\"small\"\n                    onClick={() => saveStatus()}\n                    color=\"primary\"\n                    variant=\"contained\"\n                  >\n                    Save\n                  </Button>\n                </Grid>\n              </Grid>\n            </div>\n            <Card className={classes.root} variant=\"outlined\">\n              <CardContent style={{ marginTop: '10px' }}>\n                <Grid container alignItems=\"center\" spacing={2}>\n                  <Grid item>\n                    <div style={{ display: 'block', paddingRight: '10px' }}>\n                      <div className={classes.title}>\n                        <Typography variant=\"h6\" style={{ marginRight: '10px' }}>\n                          Flight Details:{'  '}\n                        </Typography>\n                      </div>\n                    </div>\n                  </Grid>\n                  <Grid item>\n                    <div style={{ display: 'block' }}>\n                      <Grid container alignItems=\"center\" className={classes.gridRoot}>\n                        <div className={classes.column2}>\n                          <Typography variant=\"body2\" component=\"p\">\n                            Scheduled time\n                          </Typography>\n                          <Typography variant=\"body2\" component=\"p\">\n                            {moment(flight.scheduledArrival).format('LT')}\n                          </Typography>\n                        </div>\n                        <Divider orientation=\"vertical\" flexItem />\n                        <div className={classes.column2}>\n                          <Typography variant=\"body2\" component=\"p\">\n                            Scheduled date\n                          </Typography>\n                          <Typography variant=\"body2\" component=\"p\">\n                            {moment(flight.scheduledArrival).format('L')}\n                          </Typography>\n                        </div>\n                        <Divider orientation=\"vertical\" flexItem />\n                        <div className={classes.column2}>\n                          <Typography variant=\"body2\" component=\"p\">\n                            Airline\n                          </Typography>\n                          <Typography variant=\"body2\" component=\"p\">\n                            {flight.flightProvider}\n                          </Typography>\n                        </div>\n                      </Grid>\n                    </div>\n                  </Grid>\n                </Grid>\n              </CardContent>\n            </Card>\n          </div>\n        </Paper>\n      </div>\n    );\n  };\n\n  useEffect(() => {\n    !data &&\n      pollDetails().then((res) => {\n        setData(res.data);\n        setStatus(res.data.flight.status);\n      });\n  }, [data, status]);\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <Container>{data && renderData(data)}</Container>\n        {!data && <CircularProgress />}\n      </header>\n      <body></body>\n      <Snackbar open={open} autoHideDuration={6000} onClose={handleClose}>\n        <Alert onClose={handleClose} severity={severity}>\n          {severity === 'success' ? 'Status saved' : 'An problem occurred'}\n        </Alert>\n      </Snackbar>\n    </div>\n  );\n};\n","/app/src/components/FlightDetail.js",["44","45","46","47","48","49"],"import React, { useState, useEffect, useRef } from 'react';\nimport request from '../services/util/request';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Typography from '@material-ui/core/Typography';\nimport TrendingFlat from '@material-ui/icons/TrendingFlat';\nimport { Container, Button, CircularProgress, Grid } from '@material-ui/core';\nimport moment from 'moment';\nimport Chip from '@material-ui/core/Chip';\nimport clsx from 'clsx';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    marginVertical: 10\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular\n  },\n  heading2: {\n    paddingTop: 10,\n    fontSize: theme.typography.pxToRem(10),\n    fontWeight: theme.typography.fontWeightRegular\n  },\n  column: {\n    flexBasis: '25%'\n  },\n  heading3: {\n    fontSize: theme.typography.pxToRem(15),\n    color: theme.palette.text.secondary\n  },\n  helper: {\n    borderLeft: `2px solid ${theme.palette.divider}`,\n    padding: theme.spacing(2, 2)\n  },\n  link: {\n    color: theme.palette.primary.main,\n    textDecoration: 'none',\n    '&:hover': {\n      textDecoration: 'underline'\n    }\n  },\n  colorPrimary: {\n    backgroundColor: '#000000'\n  },\n  gridRoot: {\n    width: '100%'\n  }\n}));\n\nexport const FlightDetail = () => {\n  const [getData, setGetData] = useState(false);\n  const classes = useStyles();\n  const [data, setData] = useState(null);\n  const prevData = useRef();\n\n  const statusColor = (elm) => {\n    switch (elm) {\n      case 'DELAYED':\n        return { backgroundColor: '#ffff05', color: 'black' };\n      default:\n        return { backgroundColor: '#009400', color: 'white' };\n    }\n  };\n\n  useEffect(() => {\n    const pollDetails = async () => {\n      const getDetails = request({\n        method: 'GET',\n        route: '/api/flight/all'\n      }).then((res) => {\n        setData(res.data);\n      });\n    };\n\n    pollDetails();\n  }, []);\n  return (\n    <Container>\n      {!data && <CircularProgress />}\n      {data &&\n        data.flights.map((elm) => {\n          return (\n            <Accordion key={elm.id} className={classes.root}>\n              <AccordionSummary aria-controls=\"panel1a-content\" id=\"panel1a-header\">\n                <Grid container alignItems=\"center\" spacing={2} className={classes.gridRoot}>\n                  <Grid item className={classes.column}>\n                    <Typography className={classes.heading}>\n                      {moment(elm.scheduledArrival).format('LT')}\n                    </Typography>\n                  </Grid>\n                  <Grid item className={classes.column}>\n                    <Typography className={classes.heading}>{elm.sourcePortName}</Typography>\n                    <Typography className={classes.heading2}>\n                      {elm.flightCode} {elm.flightProvider}\n                    </Typography>\n                  </Grid>\n                  <Grid item className={classes.column}>\n                    <Typography className={classes.heading3}>\n                      <Chip label={elm.status} style={statusColor(elm.status)} />\n                    </Typography>\n                  </Grid>\n                  <Grid item className={classes.column}>\n                    <Grid container alignItems=\"center\" spacing={2}>\n                      <Grid item>\n                        <Typography variant=\"body2\">\n                          {' '}\n                          <a href={`flight/${elm.id}`}>More Info</a>\n                        </Typography>\n                      </Grid>\n                      <Grid item>\n                        <TrendingFlat />\n                      </Grid>\n                    </Grid>\n                  </Grid>\n                </Grid>\n              </AccordionSummary>\n            </Accordion>\n          );\n        })}\n    </Container>\n  );\n};\n","/app/src/services/util/request.js",[],"/app/src/services/util/const.js",[],{"ruleId":"50","replacedBy":"51"},{"ruleId":"52","replacedBy":"53"},{"ruleId":"54","severity":1,"message":"55","line":5,"column":8,"nodeType":"56","messageId":"57","endLine":5,"endColumn":19},{"ruleId":"54","severity":1,"message":"58","line":9,"column":27,"nodeType":"56","messageId":"57","endLine":9,"endColumn":33},{"ruleId":"54","severity":1,"message":"59","line":9,"column":35,"nodeType":"56","messageId":"57","endLine":9,"endColumn":41},{"ruleId":"54","severity":1,"message":"60","line":9,"column":43,"nodeType":"56","messageId":"57","endLine":9,"endColumn":48},{"ruleId":"54","severity":1,"message":"61","line":16,"column":3,"nodeType":"56","messageId":"57","endLine":16,"endColumn":13},{"ruleId":"54","severity":1,"message":"62","line":17,"column":3,"nodeType":"56","messageId":"57","endLine":17,"endColumn":17},{"ruleId":"54","severity":1,"message":"63","line":25,"column":10,"nodeType":"56","messageId":"57","endLine":25,"endColumn":19},{"ruleId":"54","severity":1,"message":"64","line":97,"column":9,"nodeType":"56","messageId":"57","endLine":97,"endColumn":13},{"ruleId":"65","severity":1,"message":"66","line":253,"column":6,"nodeType":"67","endLine":253,"endColumn":20,"suggestions":"68"},{"ruleId":"54","severity":1,"message":"69","line":8,"column":21,"nodeType":"56","messageId":"57","endLine":8,"endColumn":27},{"ruleId":"54","severity":1,"message":"70","line":11,"column":8,"nodeType":"56","messageId":"57","endLine":11,"endColumn":12},{"ruleId":"54","severity":1,"message":"71","line":53,"column":10,"nodeType":"56","messageId":"57","endLine":53,"endColumn":17},{"ruleId":"54","severity":1,"message":"72","line":53,"column":19,"nodeType":"56","messageId":"57","endLine":53,"endColumn":29},{"ruleId":"54","severity":1,"message":"73","line":56,"column":9,"nodeType":"56","messageId":"57","endLine":56,"endColumn":17},{"ruleId":"54","severity":1,"message":"74","line":69,"column":13,"nodeType":"56","messageId":"57","endLine":69,"endColumn":23},"no-native-reassign",["75"],"no-negated-in-lhs",["76"],"no-unused-vars","'CardActions' is defined but never used.","Identifier","unusedVar","'Router' is defined but never used.","'Switch' is defined but never used.","'Route' is defined but never used.","'InputLabel' is defined but never used.","'FormHelperText' is defined but never used.","'XMLNS_1_0' is defined but never used.","'bull' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'pollDetails'. Either include it or remove the dependency array.","ArrayExpression",["77"],"'Button' is defined but never used.","'clsx' is defined but never used.","'getData' is assigned a value but never used.","'setGetData' is assigned a value but never used.","'prevData' is assigned a value but never used.","'getDetails' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"78","fix":"79"},"Update the dependencies array to be: [data, pollDetails, status]",{"range":"80","text":"81"},[7656,7670],"[data, pollDetails, status]"]